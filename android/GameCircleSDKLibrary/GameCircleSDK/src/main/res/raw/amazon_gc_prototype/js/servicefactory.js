/*! Copyright 2013 Amazon Digital Services, Inc. All rights reserved. */
ServiceFactory=(function(){var g=new AchievementOfflineCache();var m=new AchievementServiceProxy();var l=new AchievementHandlerGuest(m,g);var i=new AchievementHandlerRecognized(m,g);var u=new AchievementHandler(l,i);var h=new ToastHandler();var f=new LeaderboardServiceProxy();var b=new LeaderboardOfflineCache();var r=new LeaderboardHandlerGuest(f,b);var j=new LeaderboardHandlerRecognized(f,b);var p=new LeaderboardHandler(r,j);var a=new Experiments();var s=new GCSettings();var w=new FeatureDetectionHandler(new FeatureDetectionServiceProxy(),s);var t=new UserExperienceHandler(new UserExperienceServiceProxy(),s);var q=new ProfilesHandler(new ProfileServiceProxy(),new ProfileOfflineCache(),s);var k=new SocialHandler(new SocialServiceProxy());var y=new FTUEHandler(q,s);NativeTransport.setFTUEHandler(y);NativeTransport.setGCSettings(s);var o=new TimePlayedHandler(y.getInitializationPromise());var e=new APICallHandler(y,o,s);var x=new OfflineEventHandler(m,f);var v=new CountriesHandler(countryCodes);var c=new SessionCache();var d=new RequestRouter();d.registerHandler(e.getHandledType(),e);d.registerHandler(u.getHandledType(),u);d.registerHandler(p.getHandledType(),p);d.registerHandler(q.getHandledType(),q);d.registerHandler(k.getHandledType(),k);d.registerHandler(w.getHandledType(),w);d.registerHandler(t.getHandledType(),t);d.registerHandler(o.getHandledType(),o);d.registerHandler(y.getHandledType(),y);d.registerHandler(x.getHandledType(),x);d.registerHandler(v.getHandledType(),v);d.registerHandler(h.getHandledType(),h);requestFactory=new RequestFactory({apiHandler:e,achievementHandler:u,leaderboardHandler:p,profilesHandler:q,socialHandler:k,featureDetectionHandler:w,userExperienceHandler:t,timePlayedHandler:o,offlineEventHandler:x,ftueHandler:y,countriesHandler:v,toastHandler:h});var n=new ToastFactory();return{getToastFactory:function(){return n},getRequestFactory:function(){return requestFactory},getRequestRouter:function(){return d},getSessionCache:function(){return c},getGCSettings:function(){return s},getExperiments:function(){return a}}}());function printStackTrace(){function c(g){if(!g){return[]}var f=[];for(var e=0;e<arguments.length;e++){f.push(arguments[e])}var d=f.join();return c(g.caller).concat([d])}var a=c(arguments.callee.caller);for(var b=0;b<a.length;b++){console.log("------------------------------------------\n"+a[b])}}console.log("ServiceFactory loaded.");