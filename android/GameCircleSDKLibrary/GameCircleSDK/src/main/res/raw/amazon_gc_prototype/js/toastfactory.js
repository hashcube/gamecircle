/*! Copyright 2013 Amazon Digital Services, Inc. All rights reserved. */
ToastFactory=(function(){var a=function(){var c=new ScoreFormatter();var b=function(j,h,g,f){var i="AchievementToast";var e={};var d=ServiceFactory.getSessionCache().getKindleInfo();if(d&&d.isKindle){e.xp=f}e.type="Achievement";e.dedupeTypes=["Achievement"];e.savedTitle=j;e.titleString="toast_achievement_earned_singular";e.titleStringArgs={achievement_name:j};e.descriptionString="passthrough";e.descriptionStringArgs={content:h};e.icon=g;e.dedupeString="toast_achievement_earned_plural";e.dedupeStringArgs={achievement_name:"${savedTitle}",number_of_other_achievements:"${targetDupes}"};e.toastDurationFadeIn=500;e.toastDurationShow=3000;e.toastDurationFadeOut=1000;e.canBeDisabled="true";e.locationIsGCDefault="false";e.toastTypeMetric=i;e.showButton="false";e.buttonTextString="passthrough";e.buttonTextStringArgs={content:""};return e};this["createAchievementToastRequest"]=function(i,h,g,f){var d={};d[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_OVERLAY_ACHIEVEMENTS;var e=b(i,h,g,f);e.isGuest="false";e[constants.ToastKeys.ACTION_MAPPINGS_KEY]=[{actionType:"toastClicked",actionRequest:d,actionName:"AchievementPage",toastTypeMetric:e.toastTypeMetric}];return e};this["createAchievementToastGuestRequest"]=function(j,i,h,g){var d={};d[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_OVERLAY_ACHIEVEMENTS;var f={};f[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_SIGN_IN_PAGE;var e=b(j,i,h,g);e.showButton="true";e.buttonTextString="toast_button_track_progress";e.buttonTextStringArgs={};e.isGuest="true";e[constants.ToastKeys.ACTION_MAPPINGS_KEY]=[{actionType:"leftSideClicked",actionRequest:d,actionName:"AchievementPage",toastTypeMetric:e.toastTypeMetric},{actionType:"rightSideClicked",actionRequest:f,actionName:"AchievementPageButton",toastTypeMetric:e.toastTypeMetric}];return e};this["createKindleAchievementToastGuestRequest"]=function(i,h,g,f){var d={};d[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_OVERLAY_ACHIEVEMENTS;var e=b(i,h,g,f);e.showButton="false";e.buttonTextString="toast_button_track_progress";e.buttonTextStringArgs={};e.isGuest="true";e[constants.ToastKeys.ACTION_MAPPINGS_KEY]=[{actionType:"toastClicked",actionRequest:d,actionName:"AchievementPage",toastTypeMetric:e.toastTypeMetric}];return e};this["createLeaderboardToastRequest"]=function(k,j,h,f){var i="LeaderboardToast";var d={};d[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_OVERLAY_LEADERBOARDS;var g=c.formatScore(j,h);var e={};e.type="Leaderboard";e.leaderboardName=k;e.dedupeTypes=["Leaderboard"];e.titleString="toast_new_high_score_singular";e.titleStringArgs={};e.descriptionString="passthrough";e.descriptionStringArgs={content:g};e.icon=f;e.showButton="false";e.buttonTextString="passthrough";e.buttonTextStringArgs={content:""};e.dedupeString="toast_new_high_score_plural";e.dedupeStringArgs={number_of_other_high_scores:"${targetDupes}"};e.toastDurationFadeIn=500;e.toastDurationShow=3000;e.toastDurationFadeOut=1000;e.canBeDisabled="true";e.locationIsGCDefault="false";e.isGuest="false";e.toastTypeMetric=i;e[constants.ToastKeys.ACTION_MAPPINGS_KEY]=[{actionType:"toastClicked",actionRequest:d,actionName:"LeaderboardPage",toastTypeMetric:i}];return e};this["createLeaderboardToastGuestRequest"]=function(h,e,g,d){var k="LeaderboardToast";var i={};i[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_OVERLAY_LEADERBOARDS;var l={};l[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_SIGN_IN_PAGE;var j=c.formatScore(e,g);var f={};f.type="Leaderboard";f.leaderboardName=h;f.dedupeTypes=["Leaderboard"];f.titleString="toast_new_high_score_singular";f.titleStringArgs={};f.descriptionString="passthrough";f.descriptionStringArgs={content:j};f.icon=d;f.showButton="true";f.buttonTextString="toast_button_post_score";f.buttonTextStringArgs={};f.dedupeString="toast_new_high_score_plural";f.dedupeStringArgs={number_of_other_high_scores:"${targetDupes}"};f.toastDurationFadeIn=500;f.toastDurationShow=3000;f.toastDurationFadeOut=1000;f.canBeDisabled="true";f.locationIsGCDefault="false";f.isGuest="true";f.toastTypeMetric=k;f[constants.ToastKeys.ACTION_MAPPINGS_KEY]=[{actionType:"leftSideClicked",actionRequest:i,actionName:"LeaderboardPage",toastTypeMetric:k},{actionType:"rightSideClicked",actionRequest:l,actionName:"LeaderboardPageButton",toastTypeMetric:k}];return f};this["createKindleLeaderboardToastGuestRequest"]=function(k,j,h,f){var i="LeaderboardToast";var d={};d[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_OVERLAY_LEADERBOARDS;var g=c.formatScore(j,h);var e={};e.type="Leaderboard";e.leaderboardName=k;e.dedupeTypes=["Leaderboard"];e.titleString="toast_new_high_score_singular";e.titleStringArgs={};e.descriptionString="passthrough";e.descriptionStringArgs={content:g};e.icon=f;e.showButton="false";e.buttonTextString="toast_button_post_score";e.buttonTextStringArgs={};e.dedupeString="toast_new_high_score_plural";e.dedupeStringArgs={number_of_other_high_scores:"${targetDupes}"};e.toastDurationFadeIn=500;e.toastDurationShow=3000;e.toastDurationFadeOut=1000;e.canBeDisabled="true";e.locationIsGCDefault="false";e.isGuest="true";e.toastTypeMetric=i;e[constants.ToastKeys.ACTION_MAPPINGS_KEY]=[{actionType:"toastClicked",actionRequest:d,actionName:"LeaderboardPage",toastTypeMetric:i}];return e};this["createWelcomeToastRequest"]=function(e,h,f){var i="WelcomeToast";var d={};d[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_OVERLAY_SUMMARY;var g={};g.type="WelcomeBack";g.dedupeTypes=["WelcomeBack"];g.showFeatures="true";if(e){g.titleString="toast_welcome_repeatuser_headline_welcome";g.titleStringArgs={nickname:e}}else{g.titleString="toast_welcome_repeatuser_headline_welcome_null_nickname";g.titleStringArgs={}}if(f!==undefined&&!$.isEmptyObject(f)){g.descriptionString="toast_welcome_reward_desc";g.descriptionStringArgs={time:f.timeLeft,xp:f.xpToGain+'<img class="xp_star" src="img/gamecircle/icon-36-gray-star.png"/>'};g.showFeatures="false"}else{g.descriptionString="toast_welcome_repeatuser_desc";g.descriptionStringArgs={}}g.icon="";g.showButton="false";g.buttonTextString="passthrough";g.buttonTextStringArgs={content:""};g.toastDurationFadeIn=500;g.toastDurationShow=4000;g.toastDurationFadeOut=1000;g.canBeDisabled="false";g.features=h;g.locationIsGCDefault="true";g.isGuest="false";g.toastTypeMetric=i;g[constants.ToastKeys.ACTION_MAPPINGS_KEY]=[{actionType:"toastClicked",actionRequest:d,actionName:"SummaryPage",toastTypeMetric:i}];return g};this["createWelcomeGuestToastRequest"]=function(){var g="WelcomeToast";var d={};d[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_OVERLAY_SUMMARY;var f={};f[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_SIGN_IN_PAGE;var e={};e.type="WelcomeBack";e.dedupeTypes=["WelcomeBack"];e.titleString="toast_welcome_guest";e.titleStringArgs={};e.descriptionString="toast_desc_welcome_guest";e.descriptionStringArgs={};e.icon="";e.showButton="true";e.buttonTextString="toast_button_welcome_guest_signin";e.buttonTextStringArgs={};e.toastDurationFadeIn=500;e.toastDurationShow=4000;e.toastDurationFadeOut=1000;e.canBeDisabled="false";e.locationIsGCDefault="true";e.isGuest="true";e.toastTypeMetric=g;e[constants.ToastKeys.ACTION_MAPPINGS_KEY]=[{actionType:"leftSideClicked",actionRequest:d,actionName:"SummaryPage",toastTypeMetric:g},{actionType:"rightSideClicked",actionRequest:f,actionName:"SummaryPageButton",toastTypeMetric:g}];return e};this["createWelcomeGuestToastWithExperimentRequest"]=function(e){var k="WelcomeToast";var j={};j[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_OVERLAY_SUMMARY;var l={};l[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_SIGN_IN_PAGE;var h={};h.type="WelcomeBack";h.dedupeTypes=["WelcomeBack"];h.titleString="toast_welcome_guest";h.titleStringArgs={};h.descriptionString="toast_desc_welcome_guest";h.descriptionStringArgs={};h.icon="";h.showButton="true";h.buttonTextString="toast_button_welcome_guest_signin";h.buttonTextStringArgs={};h.toastDurationFadeIn=500;h.toastDurationShow=4000;h.toastDurationFadeOut=1000;h.canBeDisabled="false";h.locationIsGCDefault="true";h.isGuest="true";h.toastTypeMetric=k;var f="";var d="";var g="";var i="";if(e!==undefined&&e!==null){f=e.getName();d=e.getTreatment();g=e.getViewKey();i=e.getConversionKey()}h.experiment=f;h.experimentTreatment=d;h.experimentViewKey=g;h.experimentConversionKey=i;h[constants.ToastKeys.ACTION_MAPPINGS_KEY]=[{actionType:"leftSideClicked",actionRequest:j,actionName:"SummaryPage",toastTypeMetric:k},{actionType:"rightSideClicked",actionRequest:l,actionName:"SummaryPageButton",toastTypeMetric:k,experiment:f,experimentTreatment:d,experimentConversionKey:i}];return h};this["createKindleWelcomeGuestToastRequest"]=function(i){var j="WelcomeToast";var d={};d[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_OVERLAY_SUMMARY;var h={};h[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_OVERLAY_SUMMARY;var f="SummaryPage";var e="false";if(i){e="true";h[constants.ServiceActionCode.ACTION_CODE_KEY]=constants.ServiceActionCode.SHOW_TOS_PAGE;f="TOSPage"}var g={};g.type="WelcomeBack";g.dedupeTypes=["WelcomeBack"];g.titleString="toast_welcome_guest";g.titleStringArgs={};g.descriptionString="toast_desc_welcome_guest";g.descriptionStringArgs={};g.icon="";g.showButton=e;g.buttonTextString="toast_button_welcome_guest_connect";g.buttonTextStringArgs={};g.toastDurationFadeIn=500;g.toastDurationShow=4000;g.toastDurationFadeOut=1000;g.canBeDisabled="false";g.locationIsGCDefault="true";g.isGuest="true";g.toastTypeMetric=j;g[constants.ToastKeys.ACTION_MAPPINGS_KEY]=[{actionType:"leftSideClicked",actionRequest:d,actionName:"SummaryPage",toastTypeMetric:j},{actionType:"rightSideClicked",actionRequest:h,actionName:f,toastTypeMetric:j}];return g}};return a}());console.log("ToastFactory loaded.");