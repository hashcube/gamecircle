/*! Copyright 2013 Amazon Digital Services, Inc. All rights reserved. */
GameCircleEvent=(function(){var a=function(g){var d=g;var c=false;var b={};var f={};var h={};var e={};this["addAttribute"]=function(j,i){if(!c){if(j){b[j]=i}}else{console.error("AddAttribute: This event is closed and can no longer be used")}};this["addCount"]=function(i,j){if(!c){if(i){f[i]=Number(j)}}else{console.error("AddCount: This event is closed and can no longer be used")}};this["addTime"]=function(i,j){if(!c){if(i){h[i]=Number(j)}}else{console.error("AddTime: This event is closed and can no longer be used")}};this["startTime"]=function(j){if(!c){if(j){var i=new Date();e[j]=i}}else{console.error("StartTime:  This event is closed and can no longer be used")}};this["endTime"]=function(k){if(!c){if(k&&k in e){var i=new Date();var j=e[k];var l=i.getTime()-j.getTime();this.addTime(k,l);delete e[k]}}else{console.error("EndTime: This event is closed and can no longer be used")}};this["isClosed"]=function(){return c};this["close"]=function(){if(!c){c=true;var i={};i[constants.NativeCallKeys.EVENT_NAME]=d;i[constants.NativeCallKeys.EVENT_ATTRIBUTES]=b;i[constants.NativeCallKeys.EVENT_COUNT_METRICS]=f;i[constants.NativeCallKeys.EVENT_TIME_METRICS]=h;this.sendEvent(constants.NativeCallTypes.REPORT_EVENT,i)}else{console.error("Close: This event is closed and can no longer be used")}};this.sendEvent=function(j,i){NativeTransport.callNative({nativeCall:j,args:i})}};return a}());