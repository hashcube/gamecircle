/*! Copyright 2014 Amazon Digital Services, Inc. All rights reserved. */
SocialHandler=(function(){var a=function(e){var c="SocialRequest";var d=e;var b=this;this["getHandledType"]=function(){return c};this["handleRequest"]=function(g){var m=$.Deferred();if(!(g instanceof Request)){console.log("SocialHandler: handleRequest: input was not of type Request");var n=new Result(constants.NativeCallResultCode.REQUEST_ERROR,{});m.resolve(n)}else{console.log("SocialHandler: handleRequest: message is: "+JSON.stringify(g.getType()));var h=g.getType();var l=g.getParams();var i=l.action;var f={};switch(i){case"getMyFriends":var j=$.Deferred();d.getMyFriends().always(function(o,p){j.resolve(o,p)});var k=undefined;if(l.timeout>0){k=setTimeout(function(){hostinterface.logMessage("SocialHandler: getMyFriends timed out");j.resolve({},constants.NativeCallResultCode.NETWORK_ERROR);k=0},l.timeout)}j.always(function(o,p){if(k){clearTimeout(k)}if(p!=constants.NativeCallResultCode.SUCCESS){console.log("SocialHandler: getPlayerProfile promise: SERVICE RESULT NOT OK");m.resolve(new Result(constants.NativeCallResultCode.ERROR,o))}else{m.resolve(new Result(constants.NativeCallResultCode.SUCCESS,o))}});break;default:console.log("SocialHandler: handleRequest: actionCode not supported: "+i);var n=new Result(constants.NativeCallResultCode.REQUEST_FAILURE,{});m.resolve(n)}}console.log("SocialHandler: handleRequest: end of call");return m.promise()}};return a}());console.log("SocialHandler loaded.");