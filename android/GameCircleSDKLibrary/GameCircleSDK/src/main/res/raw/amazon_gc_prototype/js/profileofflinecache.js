/*! Copyright 2013 Amazon Digital Services, Inc. All rights reserved. */
ProfileOfflineCache=(function(){var a=function(){var b="ProfileService.getAvatars";this["getCachedProfile"]=function(e){console.log("ProfileOfflineCache: getCachedProfile");var c=$.Deferred();var d={};d[constants.NativeCallKeys.PRIMARY_KEY]=e;var f=NativeTransport.callNative({nativeCall:constants.NativeCallTypes.GET_CACHE_ITEM,target:constants.OfflineCacheTypes.PLAYER_PROFILE_CACHE,args:d});f.done(function(h,g){console.log("ProfileOfflineCache: getCachedProfile complete: "+JSON.stringify(h));c.resolve(h,g)});return c.promise()};this["cacheProfile"]=function(f,g){console.log("ProfileOfflineCache: cacheProfile");var c=$.Deferred();var e={};var d={};d[constants.NativeCallKeys.PRIMARY_KEY]=f,d[constants.NativeCallKeys.SECONDARY_KEY]=f,d[constants.NativeCallKeys.JSON_DATA]=g,e[constants.NativeCallKeys.CACHE_REQUEST]=d;var h=NativeTransport.callNative({nativeCall:constants.NativeCallTypes.SET_CACHE_ITEM,target:constants.OfflineCacheTypes.PLAYER_PROFILE_CACHE,args:e});h.done(function(j,i){console.log("ProfileOfflineCache: cacheProfile complete");c.resolve(j,i)});return c.promise()};this["getCachedAvatars"]=function(){console.log("ProfileOfflineCache: getCachedAvatars");var c=$.Deferred();var d={};d[constants.NativeCallKeys.PRIMARY_KEY]=b;var e=NativeTransport.callNative({nativeCall:constants.NativeCallTypes.GET_CACHE_ITEM,target:constants.OfflineCacheTypes.PLAYER_PROFILE_CACHE,args:d});e.done(function(g,f){var h=[];if(g&&g.avatars){h=g.avatars}console.log("ProfileOfflineCache: getCachedAvatars complete: "+JSON.stringify(h));c.resolve(h,f)});return c.promise()};this["cacheAvatars"]=function(f){console.log("ProfileOfflineCache: cacheAvatars");var c=$.Deferred();var e={};var d={};d[constants.NativeCallKeys.PRIMARY_KEY]=b,d[constants.NativeCallKeys.SECONDARY_KEY]=b,d[constants.NativeCallKeys.JSON_DATA]={avatars:f},e[constants.NativeCallKeys.CACHE_REQUEST]=d;var g=NativeTransport.callNative({nativeCall:constants.NativeCallTypes.SET_CACHE_ITEM,target:constants.OfflineCacheTypes.PLAYER_PROFILE_CACHE,args:e});g.done(function(i,h){console.log("ProfileOfflineCache: cacheAvatars complete");c.resolve(i,h)});return c.promise()};this["clear"]=function(){console.log("ProfileOfflineCache: clear");var c=$.Deferred();var d={};var e=NativeTransport.callNative({nativeCall:constants.NativeCallTypes.CLEAR_CACHE,target:constants.OfflineCacheTypes.PLAYER_PROFILE_CACHE,args:d});e.done(function(g,f){console.log("ProfileOfflineCache: clear complete: "+JSON.stringify(g));c.resolve(g,f)});return c.promise()}};return a}());console.log("ProfileOfflineCache loaded.");